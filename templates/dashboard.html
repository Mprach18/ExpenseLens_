<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/dashboard.css') }}">
    Add any additional styles or libraries you might need for cards/widgets 
</head>
<body>

<div id="sidebar">
    <a href="{{ url_for('intermediate') }}">Upload</a>
    <a href="{{ url_for('dashboard') }}">Dashboard</a>
</div> -->

{% extends 'base.html' %}

{% block title %}Dashboard{% endblock %}

{% block content %}

<div id="content" class="grid-container">
    <!-- Card 1 -->
    <div class="card">
        <div class="percentage-change">Percentage Change</div>
        <div class="percentage-value">+10%</div>
    </div>
    
    <!-- Card 2 -->
    <div class="card">Total Expenditure: {{ total_expenditure }}</div>

    <!-- Card 3 -->
    <div class="card">Top Category: Entertainment</div>

    <!-- Card 4 -->
    <div class="card">
        <div class="chart-placeholder">
           <!-- Display Category-wise Expenditure in a Pie Chart -->
           <canvas id="pieChart" width="30" height="30"></canvas>
        </div>
    </div>

    <!-- Card 5 -->
    <div class="card">
        <h2>Unique Merchants</h2>
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>Merchant</th>
                    </tr>
                </thead>
                <tbody>
                    {% for merchant in merchant_list %}
                    <tr>
                        <td>{{ merchant }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
    </div>

    <!-- Card 6 -->
    <div class="card">
        <div class="chart-placeholder">
            <canvas id="dummyPercentageChart" width="150" height="150"></canvas>
        </div>
    </div>
</div>

<script>
    // JavaScript code to create a small pie chart
    var ctx = document.getElementById('pieChart').getContext('2d');
    var data = {
        labels: Object.keys({{ cat_expenditure|tojson|safe }}),
        datasets: [{
            data: Object.values({{ cat_expenditure|tojson|safe }}),
            backgroundColor: [
                'rgba(255, 99, 132, 0.7)',
                'rgba(54, 162, 235, 0.7)',
                'rgba(255, 206, 86, 0.7)',
                'rgba(75, 192, 192, 0.7)',
                'rgba(153, 102, 255, 0.7)',
            ],
        }],
    };
    var options = {};
    var myPieChart = new Chart(ctx, {
        type: 'pie',
        data: data,
        options: options,
    });
</script>

<!-- Include Bootstrap JS and Popper.js -->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

</body>
</html>
